{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormBtn = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst createGalleryCardTemplate = imgInfo => {\n  return `\n  <li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n\t\t<img \n\t\t\tclass=\"gallery-image\" \n\t\t\tsrc=\"${imgInfo.webformatURL}\" \n\t\t\talt=\"${imgInfo.tags}\" \n\t\t\t/>\n\t</a>\n  <div class='js-wraper'>\n    <div>\n      <h4 class='wraper-title'>Likes</h4>\n      <p class='wraper-text'>${imgInfo.likes}</p>\n    </div>\n    <div>\n      <h4 class='wraper-title'>Views</h4>\n      <p class='wraper-text'>${imgInfo.views}</p>\n    </div>\n    <div>\n     <h4 class='wraper-title'>Comments</h4>\n      <p class='wraper-text'>${imgInfo.comments}</p>\n    </div>\n    <div>\n      <h4 class='wraper-title'>Downloads</h4>\n      <p class='wraper-text'>${imgInfo.downloads}</p>\n    </div>\n  </div>\n</li>\n  `;\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchOfUsers = searchFormBtn.elements.user_query.value.trim();\n  if (searchOfUsers === '') {\n    iziToast.show({\n      message: 'Please enter something to search',\n      messageColor: '#fafafb',\n      messageSize: '16px',\n      messageLineHeight: '150%',\n      backgroundColor: '#59a10d',\n      position: 'topRight',\n      maxWidth: 432,\n    });\n  } else {\n    fetch(\n      `https://pixabay.com/api/?key=45521287-1fb3911845814b73b6d184262&q=${searchOfUsers}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      })\n      .then(data => {\n        if (data.total === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#fafafb',\n            messageSize: '16px',\n            messageLineHeight: '150%',\n            backgroundColor: '#ef4040',\n            position: 'topRight',\n            maxWidth: 432,\n          });\n        } else {\n          console.log(data);\n\n          const galleryCardsTemplate = data.results\n            .map(imgDetails => createGalleryCardTemplate(imgDetails))\n            .join('');\n\n          galleryEl.innerHTML = galleryCardsTemplate;\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n};\n\nsearchFormBtn.addEventListener('submit', onSearchFormSubmit);\n"],"names":["searchFormBtn","galleryEl","createGalleryCardTemplate","imgInfo","onSearchFormSubmit","event","searchOfUsers","iziToast","response","data","galleryCardsTemplate","imgDetails","err"],"mappings":"svBAKA,MAAMA,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAA4BC,GACzB;AAAA;AAAA,iCAEwBA,EAAQ,aAAa;AAAA;AAAA;AAAA,UAG5CA,EAAQ,YAAY;AAAA,UACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAMSA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,+BAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,IAO1CC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAgBN,EAAc,SAAS,WAAW,MAAM,OAC1DM,IAAkB,GACpBC,EAAS,KAAK,CACZ,QAAS,mCACT,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,SAAU,GAChB,CAAK,EAED,MACE,qEAAqED,CAAa,0DACnF,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjBF,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,SAAU,GACtB,CAAW,MACI,CACL,QAAQ,IAAIE,CAAI,EAEhB,MAAMC,EAAuBD,EAAK,QAC/B,IAAIE,GAAcT,EAA0BS,CAAU,CAAC,EACvD,KAAK,EAAE,EAEVV,EAAU,UAAYS,CACvB,CACT,CAAO,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CAEP,EAEAZ,EAAc,iBAAiB,SAAUI,CAAkB"}